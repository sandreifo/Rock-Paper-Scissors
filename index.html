<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

        <div class="selection"></div>
        <div class="counter">Rock, Paper, Scissors - Play 5 rounds</div>
        <div class="results">0 - 0</div>

        <button class = "Rock"> Rock </button>
        <button class = "Paper"> Paper </button>
        <button class = "Scissors"> Scissors </button>

        <div class="finalResult"></div>

</body>


<script>

// Defining variables for the HTML elements
const rock = document.querySelector(".Rock");
const paper = document.querySelector(".Paper");
const scissors = document.querySelector(".Scissors");
const selection = document.querySelector('div.selection');
const counter = document.querySelector('div.counter');
const results = document.querySelector('div.results');
const finalResult = document.querySelector("div.finalResult");

// Defining variables for the round counter
let i = 0;
let scoreC = 0;
let scoreP = 0;

// Event listeners for the buttons
rock.addEventListener("click", () => {
        let playerChoice = "rock"
        game(playerChoice);
});
paper.addEventListener("click", () => {
        let playerChoice = "paper"
        game(playerChoice);
});
scissors.addEventListener("click", () => {
        let playerChoice = "scissors"
        game(playerChoice);
});

// Function to compare selections and modify the score
function game(a) {
        let computerChoice = getComputerChoice();
        let result = selectionComparison (computerChoice, a)
        if (result=="win")
                {scoreP=scoreP + 1}
        else if (result=="lose")
                {scoreC=scoreC + 1}
        else if (result== "tie" || result == "invalid")
                {scoreC = scoreC; scoreP = scoreP};
        results.textContent = scoreC + " - " + scoreP;
        i = i + 1;
        if (i < 5) 
                {finalResult.textContent = ("")};
        if (i >= 5) {
                if (scoreC>scoreP)
                        {finalResult.textContent = ("Game Over - You Lost")}
                else if (scoreC<scoreP)
                        {finalResult.textContent = ("Game Over - You Won")}
                else if (scoreC==scoreP)
                        {finalResult.textContent = ("Game Over - The Game Was A Tie")};
                scoreC = 0;
                scoreP = 0;
                i = 0; 
        }
}

// Function to generate a random selection by the computer
const options = ["rock", "paper", "scissors"];
function getComputerChoice()
{return options[Math.floor(Math.random() * options.length)]};

// Function to compare both selections and determine a winner
function selectionComparison (a, y) {
        selection.textContent = "You selected " + y + " - Computer selected " + a;
        if (a==y)
                {counter.textContent =("This was a tie!");
                return "tie";}
        else if (a=="rock" & y=="paper")
                {counter.textContent =("You Win! Paper beats Rock");
                return "win";}
        else if (a=="rock" & y=="scissors")
                {counter.textContent =("You Lose! Rock beats Scissors")
                return "lose"}
        else if (a=="paper" & y=="rock")
                {counter.textContent =("You Lose! Paper beats Rock")
                return "lose"}
        else if (a=="paper" & y=="scissors")
                {counter.textContent =("You Win! Scissors beats Paper")
                return "win"}
        else if (a=="scissors" & y=="paper")
                {counter.textContent =("You Lose! Scissors beats Paper")
                return "lose"}
        else if (a=="scissors" & y=="rock")
                {counter.textContent =("You Win! Rock beats Scissors")
                return "win"}
        else 
                {counter.textContent =("Choose Rock Paper or Scissors")
                return "invalid"}
}

</script>
</html>